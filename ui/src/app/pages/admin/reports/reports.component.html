<div class="admin-dashboard">
  <!-- TOP BAR -->
  <header class="topbar">
    <div class="brand">
      <div class="logo"></div>
      SambhramaBook
      <span class="badge">ADMIN</span>
    </div>

    <div class="admin-profile">
      <div>
        <strong>Admin User</strong><br>
        <small>Super Admin</small>
      </div>
      <img src="https://i.pravatar.cc/32?img=47" alt="Admin">
    </div>
  </header>

  <div class="layout">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <h6>Overview</h6>
      <a routerLink="/admin/dashboard" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="sidebar-link">Dashboard</a>
      <a routerLink="/admin/analytics" routerLinkActive="active" class="sidebar-link">Analytics</a>

      <h6>Management</h6>
      <a routerLink="/admin/users" routerLinkActive="active" class="sidebar-link">Users</a>
      <a routerLink="/admin/vendors" routerLinkActive="active" class="sidebar-link">Vendors</a>
      <a routerLink="/admin/listings-approval" routerLinkActive="active" class="sidebar-link">
        Listings Approval
        @if (pendingCount() > 0) {
          <span class="pill">{{ pendingCount() }}</span>
        }
      </a>

      <h6>Operations</h6>
      <a routerLink="/admin/bookings" routerLinkActive="active" class="sidebar-link">Bookings</a>
      <a routerLink="/admin/payouts" routerLinkActive="active" class="sidebar-link">
        Payouts
        @if (payoutsCount() > 0) {
          <span class="pill">{{ payoutsCount() }}</span>
        }
      </a>
      <a routerLink="/admin/reports" routerLinkActive="active" class="sidebar-link">Reports & Reviews</a>

      <h6>System</h6>
      <a routerLink="/admin/settings" routerLinkActive="active" class="sidebar-link">Platform Settings</a>
    </aside>

    <!-- CONTENT -->
    <main class="content">
      <div class="content-header">
        <div>
          <h1>Reports & Reviews</h1>
          <p>Manage user reviews and flagged content.</p>
        </div>
        <select class="filter">
          <option>All Reviews</option>
          <option>Approved</option>
          <option>Pending</option>
          <option>Flagged</option>
        </select>
      </div>

      <div class="reviews-list">
        @for (review of reviews(); track review.id) {
          <div class="review-card">
            <div class="review-header">
              <div class="review-user">
                <img [src]="review.userAvatar" [alt]="review.userName">
                <div>
                  <strong>{{ review.userName }}</strong>
                  <span class="venue-name">{{ review.venueName }}</span>
                </div>
              </div>
              <div class="review-rating">
                @for (star of [1,2,3,4,5]; track star) {
                  <span class="star" [class.filled]="star <= review.rating">â˜…</span>
                }
              </div>
            </div>
            <p class="review-comment">{{ review.comment }}</p>
            <div class="review-footer">
              <span class="review-date">{{ formatDate(review.date) }}</span>
              <span class="status" [class]="review.status.toLowerCase()">
                {{ review.status }}
              </span>
              <div class="review-actions">
                @if (review.status !== 'APPROVED') {
                  <button type="button" class="btn primary" (click)="onApprove(review.id)">Approve</button>
                }
                @if (review.status !== 'FLAGGED') {
                  <button type="button" class="btn outline" (click)="onFlag(review.id)">Flag</button>
                }
                <button type="button" class="btn outline" (click)="onDelete(review.id)">Delete</button>
              </div>
            </div>
          </div>
        }
      </div>
    </main>
  </div>
</div>

